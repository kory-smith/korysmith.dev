---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { fetchArticlesWithStatus } from "@/scripts/fetchArticles.js";

export async function getStaticPaths() {
  const articles = await fetchArticlesWithStatus("Published");
  const paths = articles.map((article) => ({
    params: { article: article.slug },
    props: { article },
  }));
  return paths;
}

const { article } = Astro.props;
---

<BaseLayout title={article.title} description="Blog page">
  <div set:html={article.content} />
</BaseLayout>
